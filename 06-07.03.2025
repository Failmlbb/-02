u28@u28-VirtualBox:~$ ip -br -4 a
lo               UNKNOWN        127.0.0.1/8 
enp0s3           UP             10.0.2.15/24 metric 100 
u28@u28-VirtualBox:~$ sudo iptable -t nat -A POSTROUTING -o enp0s3 -j MASQERADE
[sudo] пароль для u28: 
sudo: iptable: команда не найдена
u28@u28-VirtualBox:~$ sudo iptables -t nat -A POSTROUTING -o enp0s3 -j MASQERADEiptables v1.8.7 (nf_tables): Chain 'MASQERADE' does not exist
Try `iptables -h' or 'iptables --help' for more information.
u28@u28-VirtualBox:~$ sudo iptables -t nat -A POSTROUTING -o enp0s3 -j MASQERADE
iptables v1.8.7 (nf_tables): Chain 'MASQERADE' does not exist
Try `iptables -h' or 'iptables --help' for more information.
u28@u28-VirtualBox:~$ sudo iptables -t nat -A POSTROUTING -o enp0s3 -j MASQUERADE
u28@u28-VirtualBox:~$ sudo nano /etc/sysctl.conf
u28@u28-VirtualBox:~$ sudo sysctl -p
net.ipv4.ip_forward = 1
u28@u28-VirtualBox:~$ sudo apt update && sudo apt update -y
Сущ:1 http://ru.archive.ubuntu.com/ubuntu jammy InRelease
Пол:2 http://ru.archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
Пол:3 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB] 
Пол:4 http://ru.archive.ubuntu.com/ubuntu jammy-backports InRelease [127 kB]
Пол:5 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [2 378 kB]
Пол:6 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [2 137 kB]                     
Пол:7 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main i386 Packages [765 kB]                       
Пол:8 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main Translation-en [395 kB]             
Пол:9 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 DEP-11 Metadata [103 kB]         
Пол:10 http://ru.archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [3 113 kB]       
Пол:11 http://ru.archive.ubuntu.com/ubuntu jammy-updates/restricted i386 Packages [40,6 kB]              
Пол:12 http://ru.archive.ubuntu.com/ubuntu jammy-updates/restricted Translation-en [549 kB]              
Пол:13 http://ru.archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 DEP-11 Metadata [212 B]       
Пол:14 http://ru.archive.ubuntu.com/ubuntu jammy-updates/universe i386 Packages [760 kB]                
Пол:15 http://ru.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1 193 kB]             
Пол:16 http://security.ubuntu.com/ubuntu jammy-security/main i386 Packages [598 kB]                   
Пол:17 http://security.ubuntu.com/ubuntu jammy-security/main Translation-en [332 kB]                  
Пол:18 http://security.ubuntu.com/ubuntu jammy-security/main amd64 DEP-11 Metadata [43,1 kB]               
Пол:19 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [2 967 kB]               
Пол:20 http://security.ubuntu.com/ubuntu jammy-security/restricted i386 Packages [38,8 kB]                     
Пол:21 http://security.ubuntu.com/ubuntu jammy-security/restricted Translation-en [524 kB]            
Пол:22 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 DEP-11 Metadata [208 B]     
Пол:23 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [966 kB]             
Пол:24 http://security.ubuntu.com/ubuntu jammy-security/universe i386 Packages [652 kB]              
Пол:25 http://security.ubuntu.com/ubuntu jammy-security/universe Translation-en [207 kB]               
Пол:26 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 DEP-11 Metadata [126 kB]       
Пол:27 http://security.ubuntu.com/ubuntu jammy-security/multiverse i386 Packages [3 352 B]         
Пол:28 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [45,5 kB]
Пол:29 http://security.ubuntu.com/ubuntu jammy-security/multiverse Translation-en [10,3 kB]
Пол:30 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 DEP-11 Metadata [208 B]
Пол:31 http://ru.archive.ubuntu.com/ubuntu jammy-updates/universe Translation-en [293 kB]
Пол:32 http://ru.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 DEP-11 Metadata [359 kB]
Пол:33 http://ru.archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [52,2 kB]
Пол:34 http://ru.archive.ubuntu.com/ubuntu jammy-updates/multiverse i386 Packages [6 568 B]
Пол:35 http://ru.archive.ubuntu.com/ubuntu jammy-updates/multiverse Translation-en [13,2 kB]
Пол:36 http://ru.archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 DEP-11 Metadata [940 B]
Пол:37 http://ru.archive.ubuntu.com/ubuntu jammy-backports/main amd64 DEP-11 Metadata [7 044 B]
Пол:38 http://ru.archive.ubuntu.com/ubuntu jammy-backports/restricted amd64 DEP-11 Metadata [212 B]
Пол:39 http://ru.archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [30,0 kB]
Пол:40 http://ru.archive.ubuntu.com/ubuntu jammy-backports/universe i386 Packages [18,4 kB]
Пол:41 http://ru.archive.ubuntu.com/ubuntu jammy-backports/universe Translation-en [16,6 kB]
Пол:42 http://ru.archive.ubuntu.com/ubuntu jammy-backports/universe amd64 DEP-11 Metadata [17,7 kB]
Пол:43 http://ru.archive.ubuntu.com/ubuntu jammy-backports/multiverse amd64 DEP-11 Metadata [212 B]                                
Получено 19,1 MB за 6с (3 132 kB/s)                                                                                                

net             
Чтение списков пакетов… Готово
Построение дерева зависимостей… Готово
Чтение информации о состоянии… Готово         
Может быть обновлено 156 пакетов. Запустите «apt list --upgradable» для их показа.
Сущ:1 http://security.ubuntu.com/ubuntu jammy-security InRelease
Сущ:2 http://ru.archive.ubuntu.com/ubuntu jammy InRelease
Пол:3 http://ru.archive.ubuntu.com/ubuntu jammy-updates InRelease [128 kB]
Сущ:4 http://ru.archive.ubuntu.com/ubuntu jammy-backports InRelease
Получено 128 kB за 1с (96,8 kB/s)         
Чтение списков пакетов… Готово
Построение дерева зависимостей… Готово
Чтение информации о состоянии… Готово         
Может быть обновлено 156 пакетов. Запустите «apt list --upgradable» для их показа.
u28@u28-VirtualBox:~$ sudo apt install bind9 bind9utils bind9-doc-y
Чтение списков пакетов… Готово
Построение дерева зависимостей… Готово
Чтение информации о состоянии… Готово         
E: Невозможно найти пакет bind9-doc-y
u28@u28-VirtualBox:~$ sudo apt install bind9 bind9utils bind9-doc -y
Чтение списков пакетов… Готово
Построение дерева зависимостей… Готово
Чтение информации о состоянии… Готово         
Будут установлены следующие дополнительные пакеты:
  bind9-utils
Предлагаемые пакеты:
  bind-doc resolvconf
Следующие НОВЫЕ пакеты будут установлены:
  bind9 bind9-doc bind9-utils bind9utils
Обновлено 0 пакетов, установлено 4 новых пакетов, для удаления отмечено 0 пакетов, и 156 пакетов не обновлено.
Необходимо скачать 3 634 kB архивов.
После данной операции объём занятого дискового пространства возрастёт на 9 512 kB.
Пол:1 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 bind9-utils amd64 1:9.18.30-0ubuntu0.22.04.2 [162 kB]
Пол:2 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 bind9 amd64 1:9.18.30-0ubuntu0.22.04.2 [261 kB]
Пол:3 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 bind9-doc all 1:9.18.30-0ubuntu0.22.04.2 [3 207 kB]             
Пол:4 http://ru.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 bind9utils all 1:9.18.30-0ubuntu0.22.04.2 [3 926 B]         
Получено 3 634 kB за 1мин 55с (31,7 kB/s)                                                                                          
Выбор ранее не выбранного пакета bind9-utils.
(Чтение базы данных … на данный момент установлено 180446 файлов и каталогов.)
Подготовка к распаковке …/bind9-utils_1%3a9.18.30-0ubuntu0.22.04.2_amd64.deb …
Распаковывается bind9-utils (1:9.18.30-0ubuntu0.22.04.2) …
Выбор ранее не выбранного пакета bind9.
Подготовка к распаковке …/bind9_1%3a9.18.30-0ubuntu0.22.04.2_amd64.deb …
Распаковывается bind9 (1:9.18.30-0ubuntu0.22.04.2) …
Выбор ранее не выбранного пакета bind9-doc.
Подготовка к распаковке …/bind9-doc_1%3a9.18.30-0ubuntu0.22.04.2_all.deb …
Распаковывается bind9-doc (1:9.18.30-0ubuntu0.22.04.2) …
Выбор ранее не выбранного пакета bind9utils.
Подготовка к распаковке …/bind9utils_1%3a9.18.30-0ubuntu0.22.04.2_all.deb …
Распаковывается bind9utils (1:9.18.30-0ubuntu0.22.04.2) …
Настраивается пакет bind9-doc (1:9.18.30-0ubuntu0.22.04.2) …
Настраивается пакет bind9-utils (1:9.18.30-0ubuntu0.22.04.2) …
Настраивается пакет bind9 (1:9.18.30-0ubuntu0.22.04.2) …
Добавляется группа «bind» (GID 138) ...
Готово.
Добавляется системный пользователь «bind» (UID 130) ...
Добавляется новый пользователь «bind» (UID 130) в группу «bind» ...
Не создаётся домашний каталог «/var/cache/bind».
wrote key file "/etc/bind/rndc.key"
named-resolvconf.service is a disabled or a static unit, not starting it.
Created symlink /etc/systemd/system/bind9.service → /lib/systemd/system/named.service.
Created symlink /etc/systemd/system/multi-user.target.wants/named.service → /lib/systemd/system/named.service.
Настраивается пакет bind9utils (1:9.18.30-0ubuntu0.22.04.2) …
Обрабатываются триггеры для man-db (2.10.2-1) …
Обрабатываются триггеры для ufw (0.36.1-4ubuntu0.1) …
u28@u28-VirtualBox:~$ sudo systemctl status bind9
● named.service - BIND Domain Name Server
     Loaded: loaded (/lib/systemd/system/named.service; enabled; vendor preset: enabled)
     Active: active (running) since Fri 2025-03-07 13:15:32 +07; 1min 9s ago
       Docs: man:named(8)
    Process: 3755 ExecStart=/usr/sbin/named $OPTIONS (code=exited, status=0/SUCCESS)
   Main PID: 3756 (named)
      Tasks: 5 (limit: 2271)
     Memory: 7.1M
        CPU: 68ms
     CGroup: /system.slice/named.service
             └─3756 /usr/sbin/named -u bind

мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (170.247.170.2) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (199.9.14.201) extra record in hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2801:1b8:10::b) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2001:500:200::b) extra record in hints
...skipping...
● named.service - BIND Domain Name Server
     Loaded: loaded (/lib/systemd/system/named.service; enabled; vendor preset: enabled)
     Active: active (running) since Fri 2025-03-07 13:15:32 +07; 1min 9s ago
       Docs: man:named(8)
    Process: 3755 ExecStart=/usr/sbin/named $OPTIONS (code=exited, status=0/SUCCESS)
   Main PID: 3756 (named)
      Tasks: 5 (limit: 2271)
     Memory: 7.1M
        CPU: 68ms
     CGroup: /system.slice/named.service
             └─3756 /usr/sbin/named -u bind

мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (170.247.170.2) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (199.9.14.201) extra record in hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2801:1b8:10::b) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2001:500:200::b) extra record in hints
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
 ESCOC









































endor preset: enabled)
min 9s ago

 status=0/SUCCESS)







solving './DNSKEY/IN': 2001:500:9f::42#53
solving './NS/IN': 2001:500:9f::42#53
solving './DNSKEY/IN': 2001:500:2d::d#53
solving './NS/IN': 2001:500:2d::d#53
tializing automatic trust anchor management for zone '.'; DNSKEY ID 20326 is now trusted, waiving the normal 30-day waiting period.
tializing automatic trust anchor management for zone '.'; DNSKEY ID 38696 is now trusted, waiving the normal 30-day waiting period.
vers.net/A (170.247.170.2) missing from hints
vers.net/A (199.9.14.201) extra record in hints
vers.net/AAAA (2801:1b8:10::b) missing from hints
vers.net/AAAA (2001:500:200::b) extra record in hints
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
 ESCOC
























































D 20326 is now trusted, waiving the normal 30-day waiting period.
D 38696 is now trusted, waiving the normal 30-day waiting period.




~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
 ESCOD









































endor preset: enabled)
min 9s ago

 status=0/SUCCESS)







solving './DNSKEY/IN': 2001:500:9f::42#53
solving './NS/IN': 2001:500:9f::42#53
solving './DNSKEY/IN': 2001:500:2d::d#53
solving './NS/IN': 2001:500:2d::d#53
tializing automatic trust anchor management for zone '.'; DNSKEY ID 20326 is now trusted, waiving the normal 30-day waiting period.
tializing automatic trust anchor management for zone '.'; DNSKEY ID 38696 is now trusted, waiving the normal 30-day waiting period.
vers.net/A (170.247.170.2) missing from hints
vers.net/A (199.9.14.201) extra record in hints
vers.net/AAAA (2801:1b8:10::b) missing from hints
vers.net/AAAA (2001:500:200::b) extra record in hints
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
 ESCOD








































● named.service - BIND Domain Name Server
     Loaded: loaded (/lib/systemd/system/named.service; enabled; vendor preset: enabled)
     Active: active (running) since Fri 2025-03-07 13:15:32 +07; 1min 9s ago
       Docs: man:named(8)
    Process: 3755 ExecStart=/usr/sbin/named $OPTIONS (code=exited, status=0/SUCCESS)
   Main PID: 3756 (named)
      Tasks: 5 (limit: 2271)
     Memory: 7.1M
        CPU: 68ms
     CGroup: /system.slice/named.service
             └─3756 /usr/sbin/named -u bind

мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (170.247.170.2) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (199.9.14.201) extra record in hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2801:1b8:10::b) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2001:500:200::b) extra record in hints
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
 ESCOD








































● named.service - BIND Domain Name Server
     Loaded: loaded (/lib/systemd/system/named.service; enabled; vendor preset: enabled)
     Active: active (running) since Fri 2025-03-07 13:15:32 +07; 1min 9s ago
       Docs: man:named(8)
    Process: 3755 ExecStart=/usr/sbin/named $OPTIONS (code=exited, status=0/SUCCESS)
   Main PID: 3756 (named)
      Tasks: 5 (limit: 2271)
     Memory: 7.1M
        CPU: 68ms
     CGroup: /system.slice/named.service
             └─3756 /usr/sbin/named -u bind

мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (170.247.170.2) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (199.9.14.201) extra record in hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2801:1b8:10::b) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2001:500:200::b) extra record in hints
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
 ESCOD








































● named.service - BIND Domain Name Server
     Loaded: loaded (/lib/systemd/system/named.service; enabled; vendor preset: enabled)
     Active: active (running) since Fri 2025-03-07 13:15:32 +07; 1min 9s ago
       Docs: man:named(8)
    Process: 3755 ExecStart=/usr/sbin/named $OPTIONS (code=exited, status=0/SUCCESS)
   Main PID: 3756 (named)
      Tasks: 5 (limit: 2271)
     Memory: 7.1M
        CPU: 68ms
     CGroup: /system.slice/named.service
             └─3756 /usr/sbin/named -u bind

мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (170.247.170.2) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (199.9.14.201) extra record in hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2801:1b8:10::b) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2001:500:200::b) extra record in hints
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
 ESCOD








































● named.service - BIND Domain Name Server
     Loaded: loaded (/lib/systemd/system/named.service; enabled; vendor preset: enabled)
     Active: active (running) since Fri 2025-03-07 13:15:32 +07; 1min 9s ago
       Docs: man:named(8)
    Process: 3755 ExecStart=/usr/sbin/named $OPTIONS (code=exited, status=0/SUCCESS)
   Main PID: 3756 (named)
      Tasks: 5 (limit: 2271)
     Memory: 7.1M
        CPU: 68ms
     CGroup: /system.slice/named.service
             └─3756 /usr/sbin/named -u bind

мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (170.247.170.2) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (199.9.14.201) extra record in hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2801:1b8:10::b) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2001:500:200::b) extra record in hints
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
...skipping...
● named.service - BIND Domain Name Server
     Loaded: loaded (/lib/systemd/system/named.service; enabled; vendor preset: enabled)
     Active: active (running) since Fri 2025-03-07 13:15:32 +07; 1min 9s ago
       Docs: man:named(8)
    Process: 3755 ExecStart=/usr/sbin/named $OPTIONS (code=exited, status=0/SUCCESS)
   Main PID: 3756 (named)
      Tasks: 5 (limit: 2271)
     Memory: 7.1M
        CPU: 68ms
     CGroup: /system.slice/named.service
             └─3756 /usr/sbin/named -u bind

мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:9f::42#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './DNSKEY/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: network unreachable resolving './NS/IN': 2001:500:2d::d#53
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: managed-keys-zone: Initializing automatic trust anchor management for zone '.'; DNSKEY >
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (170.247.170.2) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/A (199.9.14.201) extra record in hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2801:1b8:10::b) missing from hints
мар 07 13:15:32 u28-VirtualBox named[3756]: checkhints: b.root-servers.net/AAAA (2001:500:200::b) extra record in hints
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
lines 1-22/22 (END)
[1]+  Остановлен    sudo systemctl status bind9
u28@u28-VirtualBox:~$ sudo cat/proc/sys/net/ipv4/ip_forward
sudo: cat/proc/sys/net/ipv4/ip_forward: команда не найдена
u28@u28-VirtualBox:~$ cat/proc/sys/net/ipv4/ip_forward
bash: cat/proc/sys/net/ipv4/ip_forward: Нет такого файла или каталога
u28@u28-VirtualBox:~$ cat /proc/sys/net/ipv4/ip_forward
1
u28@u28-VirtualBox:~$ fg 1
sudo systemctl status bind9
u28@u28-VirtualBox:~$ 
u28@u28-VirtualBox:~$ 
u28@u28-VirtualBox:~$ 
u28@u28-VirtualBox:~$ sudo nano /etc/dhcp/dhcpd.conf 
[sudo] пароль для u28: 
u28@u28-VirtualBox:~$ sudo nano /etc/netplan/01-network-manager-all.yaml 
u28@u28-VirtualBox:~$ sudo netplan generate 

** (generate:4875): WARNING **: 13:45:29.144: Permissions for /etc/netplan/01-network-manager-all.yaml are too open. Netplan configuration should NOT be accessible by others.
/etc/netplan/01-network-manager-all.yaml:9:18: Error in network definition: expected sequence
      addresses: 192.168.28.1
                 ^
u28@u28-VirtualBox:~$ sudo nano /etc/netplan/01-network-manager-all.yaml 
u28@u28-VirtualBox:~$ sudo netplan generate 

** (generate:4883): WARNING **: 13:46:10.347: Permissions for /etc/netplan/01-network-manager-all.yaml are too open. Netplan configuration should NOT be accessible by others.
/etc/netplan/01-network-manager-all.yaml:9:18: Error in network definition: address '192.168.28.1' is missing /prefixlength
      addresses: [192.168.28.1]
                 ^
u28@u28-VirtualBox:~$ sudo nano /etc/netplan/01-network-manager-all.yaml 
u28@u28-VirtualBox:~$ sudo netplan generate 

** (generate:4891): WARNING **: 13:47:16.601: Permissions for /etc/netplan/01-network-manager-all.yaml are too open. Netplan configuration should NOT be accessible by others.
u28@u28-VirtualBox:~$ sudo netplan apply 

** (generate:4903): WARNING **: 13:47:27.318: Permissions for /etc/netplan/01-network-manager-all.yaml are too open. Netplan configuration should NOT be accessible by others.
WARNING:root:Cannot call Open vSwitch: ovsdb-server.service is not running.

** (process:4901): WARNING **: 13:47:27.584: Permissions for /etc/netplan/01-network-manager-all.yaml are too open. Netplan configuration should NOT be accessible by others.

** (process:4901): WARNING **: 13:47:27.742: Permissions for /etc/netplan/01-network-manager-all.yaml are too open. Netplan configuration should NOT be accessible by others.

** (process:4901): WARNING **: 13:47:27.742: Permissions for /etc/netplan/01-network-manager-all.yaml are too open. Netplan configuration should NOT be accessible by others.
u28@u28-VirtualBox:~$ ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:fd:94:ec brd ff:ff:ff:ff:ff:ff
    inet 10.0.2.15/24 metric 100 brd 10.0.2.255 scope global dynamic enp0s3
       valid_lft 86397sec preferred_lft 86397sec
    inet6 fe80::a00:27ff:fefd:94ec/64 scope link 
       valid_lft forever preferred_lft forever
3: enp0s8: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:dc:ea:c6 brd ff:ff:ff:ff:ff:ff
    inet 192.168.28.1/24 brd 192.168.28.255 scope global enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fedc:eac6/64 scope link 
       valid_lft forever preferred_lft forever
u28@u28-VirtualBox:~$ sudo systemctl restart isc-dhcp-server
u28@u28-VirtualBox:~$ sudo systemctl status isc-dhcp-server
× isc-dhcp-server.service - ISC DHCP IPv4 server
     Loaded: loaded (/lib/systemd/system/isc-dhcp-server.service; enabled; vend>
     Active: failed (Result: exit-code) since Fri 2025-03-07 13:48:31 +07; 38s >
       Docs: man:dhcpd(8)
    Process: 4993 ExecStart=/bin/sh -ec      CONFIG_FILE=/etc/dhcp/dhcpd.conf; >
   Main PID: 4993 (code=exited, status=1/FAILURE)
        CPU: 17ms

мар 07 13:48:31 u28-VirtualBox systemd[1]: isc-dhcp-server.service: Main proces>
мар 07 13:48:31 u28-VirtualBox dhcpd[4993]: 
мар 07 13:48:31 u28-VirtualBox dhcpd[4993]: If you think you have received this>
мар 07 13:48:31 u28-VirtualBox dhcpd[4993]: than a configuration issue please r>
мар 07 13:48:31 u28-VirtualBox dhcpd[4993]: bugs on either our web page at www.>
мар 07 13:48:31 u28-VirtualBox dhcpd[4993]: before submitting a bug.  These pag>
мар 07 13:48:31 u28-VirtualBox dhcpd[4993]: process and the information we find>
мар 07 13:48:31 u28-VirtualBox systemd[1]: isc-dhcp-server.service: Failed with>
мар 07 13:48:31 u28-VirtualBox dhcpd[4993]: 
мар 07 13:48:31 u28-VirtualBox dhcpd[4993]: exiting.
u28@u28-VirtualBox:~$ sudo netplan apply ]

** (generate:5009): WARNING **: 13:49:27.925: Permissions for /etc/netplan/01-network-manager-all.yaml are too open. Netplan configuration should NOT be accessible by others.
WARNING:root:Cannot call Open vSwitch: ovsdb-server.service is not running.

** (process:5007): WARNING **: 13:49:28.211: Permissions for /etc/netplan/01-network-manager-all.yaml are too open. Netplan configuration should NOT be accessible by others.

** (process:5007): WARNING **: 13:49:28.347: Permissions for /etc/netplan/01-network-manager-all.yaml are too open. Netplan configuration should NOT be accessible by others.

** (process:5007): WARNING **: 13:49:28.347: Permissions for /etc/netplan/01-network-manager-all.yaml are too open. Netplan configuration should NOT be accessible by others.
u28@u28-VirtualBox:~$ sudo nano /etc/dhcp/dhcpd.conf 
u28@u28-VirtualBox:~$ sudo nano /etc/default/isc-dhcp-server 
u28@u28-VirtualBox:~$ sudo systemctl restart isc-dhcp-server
u28@u28-VirtualBox:~$ sudo systemctl status isc-dhcp-server
● isc-dhcp-server.service - ISC DHCP IPv4 server
     Loaded: loaded (/lib/systemd/system/isc-dhcp-server.service; enabled; vend>
     Active: active (running) since Fri 2025-03-07 13:52:39 +07; 4s ago
       Docs: man:dhcpd(8)
   Main PID: 5118 (dhcpd)
      Tasks: 4 (limit: 2271)
     Memory: 4.5M
        CPU: 9ms
     CGroup: /system.slice/isc-dhcp-server.service
             └─5118 dhcpd -user dhcpd -group dhcpd -f -4 -pf /run/dhcp-server/d>

мар 07 13:52:39 u28-VirtualBox dhcpd[5118]: All rights reserved.
мар 07 13:52:39 u28-VirtualBox dhcpd[5118]: For info, please visit https://www.>
мар 07 13:52:39 u28-VirtualBox dhcpd[5118]: Config file: /etc/dhcp/dhcpd.conf
мар 07 13:52:39 u28-VirtualBox dhcpd[5118]: Database file: /var/lib/dhcp/dhcpd.>
мар 07 13:52:39 u28-VirtualBox dhcpd[5118]: PID file: /run/dhcp-server/dhcpd.pid
мар 07 13:52:39 u28-VirtualBox dhcpd[5118]: Wrote 1 leases to leases file.
мар 07 13:52:39 u28-VirtualBox dhcpd[5118]: Listening on LPF/enp0s8/08:00:27:dc>
мар 07 13:52:39 u28-VirtualBox dhcpd[5118]: Sending on   LPF/enp0s8/08:00:27:dc>
мар 07 13:52:39 u28-VirtualBox dhcpd[5118]: Sending on   Socket/fallback/fallba>
мар 07 13:52:39 u28-VirtualBox dhcpd[5118]: Server starting service.
u28@u28-VirtualBox:~$ sudo sustemctl start bind9
sudo: sustemctl: команда не найдена
u28@u28-VirtualBox:~$ sudo systemctl start bind9
u28@u28-VirtualBox:~$ sudo ufw allow 53/tcp
Правила обновлены
Правила обновлены (v6)
u28@u28-VirtualBox:~$ sudo ufw allow 53/udp
Правила обновлены
Правила обновлены (v6)
u28@u28-VirtualBox:~$ sudo nano /etc/bind/named.conf.options
u28@u28-VirtualBox:~$ sudo nano /etc/bind/named.conf.options
u28@u28-VirtualBox:~$ ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:fd:94:ec brd ff:ff:ff:ff:ff:ff
    inet 10.0.2.15/24 metric 100 brd 10.0.2.255 scope global dynamic enp0s3
       valid_lft 85384sec preferred_lft 85384sec
    inet6 fe80::a00:27ff:fefd:94ec/64 scope link 
       valid_lft forever preferred_lft forever
3: enp0s8: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:dc:ea:c6 brd ff:ff:ff:ff:ff:ff
    inet 192.168.28.1/24 brd 192.168.28.255 scope global enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fedc:eac6/64 scope link 
       valid_lft forever preferred_lft forever
u28@u28-VirtualBox:~$ sudo apt update
Сущ:1 http://ru.archive.ubuntu.com/ubuntu jammy InRelease
Сущ:2 http://ru.archive.ubuntu.com/ubuntu jammy-updates InRelease              
Сущ:3 http://security.ubuntu.com/ubuntu jammy-security InRelease               
Сущ:4 http://ru.archive.ubuntu.com/ubuntu jammy-backports InRelease            
Чтение списков пакетов… Готово            
Построение дерева зависимостей… Готово
Чтение информации о состоянии… Готово         
Может быть обновлено 156 пакетов. Запустите «apt list --upgradable» для их показа.
u28@u28-VirtualBox:~$ sudo apt install curl software-poperties-common ca-certificates apt transport-https -y
Чтение списков пакетов… Готово
Построение дерева зависимостей… Готово
Чтение информации о состоянии… Готово         
E: Невозможно найти пакет software-poperties-common
E: Невозможно найти пакет transport-https
u28@u28-VirtualBox:~$ open file /home/u28/Загрузки/!Лекц_Адм_ОС_2025_07_03.pptx
bash: !Лекц_Адм_ОС_2025_07_03.pptx: event not found
u28@u28-VirtualBox:~$ sudo apt install curl software-properties-common ca-certificates apt-transport-https -y
Чтение списков пакетов… Готово
Построение дерева зависимостей… Готово
Чтение информации о состоянии… Готово         
Уже установлен пакет ca-certificates самой новой версии (20240203~22.04.1).
ca-certificates помечен как установленный вручную.
Будут установлены следующие дополнительные пакеты:
  python3-software-properties software-properties-gtk
Следующие НОВЫЕ пакеты будут установлены:
  apt-transport-https curl
Следующие пакеты будут обновлены:
  python3-software-properties software-properties-common
  software-properties-gtk
Обновлено 3 пакетов, установлено 2 новых пакетов, для удаления отмечено 0 пакетов, и 153 пакетов не обновлено.
Необходимо скачать 310 kB архивов.
После данной операции объём занятого дискового пространства возрастёт на 631 kB.
Пол:1 http://ru.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 apt-transport-https all 2.4.13 [1 510 B]
Пол:2 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 curl amd64 7.81.0-1ubuntu1.20 [194 kB]
Пол:3 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 software-properties-common all 0.99.22.9 [14,1 kB]
Пол:4 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 software-properties-gtk all 0.99.22.9 [71,3 kB]
Пол:5 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 python3-software-properties all 0.99.22.9 [28,8 kB]
Получено 310 kB за 1с (600 kB/s)                  
Выбор ранее не выбранного пакета apt-transport-https.
(Чтение базы данных … на данный момент установлено 180597 файлов и каталогов.)
Подготовка к распаковке …/apt-transport-https_2.4.13_all.deb …
Распаковывается apt-transport-https (2.4.13) …
Выбор ранее не выбранного пакета curl.
Подготовка к распаковке …/curl_7.81.0-1ubuntu1.20_amd64.deb …
Распаковывается curl (7.81.0-1ubuntu1.20) …
Подготовка к распаковке …/software-properties-common_0.99.22.9_all.deb …
Распаковывается software-properties-common (0.99.22.9) на замену (0.99.22.7) …
Подготовка к распаковке …/software-properties-gtk_0.99.22.9_all.deb …
Распаковывается software-properties-gtk (0.99.22.9) на замену (0.99.22.7) …
Подготовка к распаковке …/python3-software-properties_0.99.22.9_all.deb …
Распаковывается python3-software-properties (0.99.22.9) на замену (0.99.22.7) …
Настраивается пакет apt-transport-https (2.4.13) …
Настраивается пакет python3-software-properties (0.99.22.9) …
Настраивается пакет curl (7.81.0-1ubuntu1.20) …
Настраивается пакет software-properties-common (0.99.22.9) …
Настраивается пакет software-properties-gtk (0.99.22.9) …
Обрабатываются триггеры для dbus (1.12.20-2ubuntu4.1) …
Обрабатываются триггеры для shared-mime-info (2.1-2) …
Обрабатываются триггеры для mailcap (3.70+nmu1ubuntu1) …
Обрабатываются триггеры для desktop-file-utils (0.26-1ubuntu3) …
Обрабатываются триггеры для hicolor-icon-theme (0.17-2) …
Обрабатываются триггеры для gnome-menus (3.36.0-1ubuntu3) …
Обрабатываются триггеры для libglib2.0-0:amd64 (2.72.4-0ubuntu2.4) …
Обрабатываются триггеры для man-db (2.10.2-1) …
u28@u28-VirtualBox:~$ ^C
u28@u28-VirtualBox:~$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).
OK
u28@u28-VirtualBox:~$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).
OK
u28@u28-VirtualBox:~$ sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu jammy stable"
Репозиторий: 'deb [arch=amd64] https://download.docker.com/linux/ubuntu jammy stable'
Описание:
Archive for codename: jammy components: stable
Дополнительные сведения: https://download.docker.com/linux/ubuntu
Добавление репозитория.
Нажмите [ENTER] для продолжения или Ctrl-C для отмены.
Adding deb entry to /etc/apt/sources.list.d/archive_uri-https_download_docker_com_linux_ubuntu-jammy.list
Adding disabled deb-src entry to /etc/apt/sources.list.d/archive_uri-https_download_docker_com_linux_ubuntu-jammy.list
Сущ:1 http://ru.archive.ubuntu.com/ubuntu jammy InRelease
Сущ:2 http://ru.archive.ubuntu.com/ubuntu jammy-updates InRelease              
Сущ:3 http://ru.archive.ubuntu.com/ubuntu jammy-backports InRelease            
Пол:4 http://security.ubuntu.com/ubuntu jammy-security InRelease [129 kB]      
Пол:5 https://download.docker.com/linux/ubuntu jammy InRelease [48,8 kB]       
Пол:6 http://security.ubuntu.com/ubuntu jammy-security/main amd64 DEP-11 Metadata [43,1 kB]
Пол:7 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 DEP-11 Metadata [208 B]
Пол:8 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 DEP-11 Metadata [126 kB]
Пол:9 https://download.docker.com/linux/ubuntu jammy/stable amd64 Packages [45,7 kB]
Пол:10 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 DEP-11 Metadata [208 B]
Получено 392 kB за 1с (283 kB/s)    
Чтение списков пакетов… Готово
W: https://download.docker.com/linux/ubuntu/dists/jammy/InRelease: Ключ хранится в унаследованной связке ключей trusted.gpg (/etc/apt/trusted.gpg), подробности см. в разделе DEPRECATION в apt-key(8).
u28@u28-VirtualBox:~$ sudo apt update
Сущ:1 http://ru.archive.ubuntu.com/ubuntu jammy InRelease
Сущ:2 http://ru.archive.ubuntu.com/ubuntu jammy-updates InRelease              
Сущ:3 http://security.ubuntu.com/ubuntu jammy-security InRelease               
Сущ:4 http://ru.archive.ubuntu.com/ubuntu jammy-backports InRelease            
Сущ:5 https://download.docker.com/linux/ubuntu jammy InRelease                 
Чтение списков пакетов… Готово            
Построение дерева зависимостей… Готово
Чтение информации о состоянии… Готово         
Может быть обновлено 153 пакета. Запустите «apt list --upgradable» для их показа.
W: https://download.docker.com/linux/ubuntu/dists/jammy/InRelease: Ключ хранится в унаследованной связке ключей trusted.gpg (/etc/apt/trusted.gpg), подробности см. в разделе DEPRECATION в apt-key(8).
u28@u28-VirtualBox:~$ sudo apt install docker-ce -y
Чтение списков пакетов… Готово
Построение дерева зависимостей… Готово
Чтение информации о состоянии… Готово         
Будут установлены следующие дополнительные пакеты:
  containerd.io docker-buildx-plugin docker-ce-cli docker-ce-rootless-extras
  docker-compose-plugin git git-man liberror-perl libslirp0 pigz slirp4netns
Предлагаемые пакеты:
  cgroupfs-mount | cgroup-lite git-daemon-run | git-daemon-sysvinit git-doc
  git-email git-gui gitk gitweb git-cvs git-mediawiki git-svn
Следующие НОВЫЕ пакеты будут установлены:
  containerd.io docker-buildx-plugin docker-ce docker-ce-cli
  docker-ce-rootless-extras docker-compose-plugin git git-man liberror-perl
  libslirp0 pigz slirp4netns
Обновлено 0 пакетов, установлено 12 новых пакетов, для удаления отмечено 0 пакетов, и 153 пакетов не обновлено.
Необходимо скачать 124 MB архивов.
После данной операции объём занятого дискового пространства возрастёт на 458 MB.
Пол:1 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 pigz amd64 2.6-1 [63,6 kB]
Пол:2 https://download.docker.com/linux/ubuntu jammy/stable amd64 containerd.io amd64 1.7.25-1 [29,6 MB]
Пол:3 http://ru.archive.ubuntu.com/ubuntu jammy/main amd64 liberror-perl all 0.17029-1 [26,5 kB]
Пол:4 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 git-man all 1:2.34.1-1ubuntu1.12 [955 kB]
Пол:5 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-buildx-plugin amd64 0.21.1-1~ubuntu.22.04~jammy [35,3 MB]
Пол:6 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce-cli amd64 5:28.0.1-1~ubuntu.22.04~jammy [15,7 MB]
Пол:7 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce amd64 5:28.0.1-1~ubuntu.22.04~jammy [19,1 MB]
Пол:8 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce-rootless-extras amd64 5:28.0.1-1~ubuntu.22.04~jammy [6 086 kB]
Пол:9 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-compose-plugin amd64 2.33.1-1~ubuntu.22.04~jammy [14,0 MB]
Пол:10 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 git amd64 1:2.34.1-1ubuntu1.12 [3 165 kB]
Пол:11 http://ru.archive.ubuntu.com/ubuntu jammy/main amd64 libslirp0 amd64 4.6.1-1build1 [61,5 kB]
Пол:12 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 slirp4netns amd64 1.0.1-2 [28,2 kB]
Получено 124 MB за 55с (2 247 kB/s)                                            
Выбор ранее не выбранного пакета pigz.
(Чтение базы данных … на данный момент установлено 180608 файлов и каталогов.)
Подготовка к распаковке …/00-pigz_2.6-1_amd64.deb …
Распаковывается pigz (2.6-1) …
Выбор ранее не выбранного пакета containerd.io.
Подготовка к распаковке …/01-containerd.io_1.7.25-1_amd64.deb …
Распаковывается containerd.io (1.7.25-1) …
Выбор ранее не выбранного пакета docker-buildx-plugin.
Подготовка к распаковке …/02-docker-buildx-plugin_0.21.1-1~ubuntu.22.04~jammy_am
d64.deb …
Распаковывается docker-buildx-plugin (0.21.1-1~ubuntu.22.04~jammy) …
Выбор ранее не выбранного пакета docker-ce-cli.
Подготовка к распаковке …/03-docker-ce-cli_5%3a28.0.1-1~ubuntu.22.04~jammy_amd64
.deb …
Распаковывается docker-ce-cli (5:28.0.1-1~ubuntu.22.04~jammy) …
Выбор ранее не выбранного пакета docker-ce.
Подготовка к распаковке …/04-docker-ce_5%3a28.0.1-1~ubuntu.22.04~jammy_amd64.deb
 …
Распаковывается docker-ce (5:28.0.1-1~ubuntu.22.04~jammy) …
Выбор ранее не выбранного пакета docker-ce-rootless-extras.
Подготовка к распаковке …/05-docker-ce-rootless-extras_5%3a28.0.1-1~ubuntu.22.04
~jammy_amd64.deb …
Распаковывается docker-ce-rootless-extras (5:28.0.1-1~ubuntu.22.04~jammy) …
Выбор ранее не выбранного пакета docker-compose-plugin.
Подготовка к распаковке …/06-docker-compose-plugin_2.33.1-1~ubuntu.22.04~jammy_a
md64.deb …
Распаковывается docker-compose-plugin (2.33.1-1~ubuntu.22.04~jammy) …
Выбор ранее не выбранного пакета liberror-perl.
Подготовка к распаковке …/07-liberror-perl_0.17029-1_all.deb …
Распаковывается liberror-perl (0.17029-1) …
Выбор ранее не выбранного пакета git-man.
Подготовка к распаковке …/08-git-man_1%3a2.34.1-1ubuntu1.12_all.deb …
Распаковывается git-man (1:2.34.1-1ubuntu1.12) …
Выбор ранее не выбранного пакета git.
Подготовка к распаковке …/09-git_1%3a2.34.1-1ubuntu1.12_amd64.deb …
Распаковывается git (1:2.34.1-1ubuntu1.12) …
Выбор ранее не выбранного пакета libslirp0:amd64.
Подготовка к распаковке …/10-libslirp0_4.6.1-1build1_amd64.deb …
Распаковывается libslirp0:amd64 (4.6.1-1build1) …
Выбор ранее не выбранного пакета slirp4netns.
Подготовка к распаковке …/11-slirp4netns_1.0.1-2_amd64.deb …
Распаковывается slirp4netns (1.0.1-2) …
Настраивается пакет liberror-perl (0.17029-1) …
Настраивается пакет docker-buildx-plugin (0.21.1-1~ubuntu.22.04~jammy) …
Настраивается пакет containerd.io (1.7.25-1) …
Created symlink /etc/systemd/system/multi-user.target.wants/containerd.service →
 /lib/systemd/system/containerd.service.
Настраивается пакет docker-compose-plugin (2.33.1-1~ubuntu.22.04~jammy) …
Настраивается пакет docker-ce-cli (5:28.0.1-1~ubuntu.22.04~jammy) …
Настраивается пакет libslirp0:amd64 (4.6.1-1build1) …
Настраивается пакет pigz (2.6-1) …
Настраивается пакет git-man (1:2.34.1-1ubuntu1.12) …
Настраивается пакет docker-ce-rootless-extras (5:28.0.1-1~ubuntu.22.04~jammy) …
Настраивается пакет slirp4netns (1.0.1-2) …
Настраивается пакет docker-ce (5:28.0.1-1~ubuntu.22.04~jammy) …
Created symlink /etc/systemd/system/multi-user.target.wants/docker.service → /li
b/systemd/system/docker.service.
Created symlink /etc/systemd/system/sockets.target.wants/docker.socket → /lib/sy
stemd/system/docker.socket.
Настраивается пакет git (1:2.34.1-1ubuntu1.12) …
Обрабатываются триггеры для man-db (2.10.2-1) …
Обрабатываются триггеры для libc-bin (2.35-0ubuntu3.9) …
u28@u28-VirtualBox:~$ sudo systemctl status docker
● docker.service - Docker Application Container Engine
     Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset>
     Active: active (running) since Fri 2025-03-07 14:39:43 +07; 30s ago
TriggeredBy: ● docker.socket
       Docs: https://docs.docker.com
   Main PID: 12494 (dockerd)
      Tasks: 9
     Memory: 31.4M
        CPU: 478ms
     CGroup: /system.slice/docker.service
             └─12494 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/con>

мар 07 14:39:33 u28-VirtualBox dockerd[12494]: time="2025-03-07T14:39:33.014198>
мар 07 14:39:33 u28-VirtualBox dockerd[12494]: time="2025-03-07T14:39:33.014309>
мар 07 14:39:36 u28-VirtualBox dockerd[12494]: time="2025-03-07T14:39:36.212117>
мар 07 14:39:39 u28-VirtualBox dockerd[12494]: time="2025-03-07T14:39:39.887520>
мар 07 14:39:41 u28-VirtualBox dockerd[12494]: time="2025-03-07T14:39:40.819873>
мар 07 14:39:41 u28-VirtualBox dockerd[12494]: time="2025-03-07T14:39:40.820591>
мар 07 14:39:43 u28-VirtualBox systemd[1]: Started Docker Application Container>
мар 07 14:39:43 u28-VirtualBox dockerd[12494]: time="2025-03-07T14:39:43.482353>
мар 07 14:39:43 u28-VirtualBox dockerd[12494]: time="2025-03-07T14:39:43.508531>
мар 07 14:39:43 u28-VirtualBox dockerd[12494]: time="2025-03-07T14:39:43.508623>
lines 1-22/22 (END)
[1]+  Остановлен    sudo systemctl status docker
u28@u28-VirtualBox:~$ sudo usermod -aG docker $USER
u28@u28-VirtualBox:~$ newgrp docker
u28@u28-VirtualBox:~$ sudo apt-get install docker-compose
Чтение списков пакетов… Готово
Построение дерева зависимостей… Готово
Чтение информации о состоянии… Готово         
Будут установлены следующие дополнительные пакеты:
  python3-attr python3-distutils python3-docker python3-dockerpty
  python3-docopt python3-dotenv python3-jsonschema python3-lib2to3
  python3-pyrsistent python3-setuptools python3-texttable python3-websocket
Предлагаемые пакеты:
  python-attr-doc python-jsonschema-doc python-setuptools-doc
Рекомендуемые пакеты:
  docker.io
Следующие НОВЫЕ пакеты будут установлены:
  docker-compose python3-attr python3-distutils python3-docker
  python3-dockerpty python3-docopt python3-dotenv python3-jsonschema
  python3-lib2to3 python3-pyrsistent python3-setuptools python3-texttable
  python3-websocket
Обновлено 0 пакетов, установлено 13 новых пакетов, для удаления отмечено 0 пакетов, и 153 пакетов не обновлено.
Необходимо скачать 988 kB архивов.
После данной операции объём занятого дискового пространства возрастёт на 5 240 kB.
Хотите продолжить? [Д/н] y
0% [Ожидание заголовков]^[OA^[OD^[OD^[OD^[OD^[OD^[OD^[OD^[OD^[OD^[OD
0% [Ожидание заголовков]l
0% [Ожидание заголовков]
0% [Ожидание заголовков]
0% [Ожидание заголовков]
Пол:1 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 python3-lib2to3 all 3.10.8-1~22.04 [77,6 kB]
1% [1 python3-lib2to3 11,8 kB/77,6 kB 15%]
Пол:2 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 python3-distutils all 3.10.8-1~22.04 [139 kB]
Пол:3 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-websocket all 1.2.3-1 [34,7 kB]
Пол:4 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-docker all 5.0.3-1 [89,3 kB]
Пол:5 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-dockerpty all 0.4.1-2 [11,1 kB]
Пол:6 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-docopt all 0.6.2-4 [26,9 kB]
Пол:7 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-dotenv all 0.19.2-1 [20,5 kB]
Пол:8 http://ru.archive.ubuntu.com/ubuntu jammy/main amd64 python3-attr all 21.2.0-1 [44,0 kB]
Пол:9 http://ru.archive.ubuntu.com/ubuntu jammy-updates/main amd64 python3-setuptools all 59.6.0-1.2ubuntu0.22.04.2 [340 kB]
Пол:10 http://ru.archive.ubuntu.com/ubuntu jammy/main amd64 python3-pyrsistent amd64 0.18.1-1build1 [55,5 kB]
Пол:11 http://ru.archive.ubuntu.com/ubuntu jammy/main amd64 python3-jsonschema all 3.2.0-0ubuntu2 [43,1 kB]
Пол:12 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 python3-texttable all 1.6.4-1 [11,4 kB]
Пол:13 http://ru.archive.ubuntu.com/ubuntu jammy/universe amd64 docker-compose all 1.29.2-1 [95,8 kB]
Получено 988 kB за 32с (31,1 kB/s)          
Выбор ранее не выбранного пакета python3-lib2to3.
(Чтение базы данных … на данный момент установлен 181851 файл и каталог.)
Подготовка к распаковке …/00-python3-lib2to3_3.10.8-1~22.04_all.deb …
Распаковывается python3-lib2to3 (3.10.8-1~22.04) …
Выбор ранее не выбранного пакета python3-distutils.
Подготовка к распаковке …/01-python3-distutils_3.10.8-1~22.04_all.deb …
Распаковывается python3-distutils (3.10.8-1~22.04) …
Выбор ранее не выбранного пакета python3-websocket.
Подготовка к распаковке …/02-python3-websocket_1.2.3-1_all.deb …
Распаковывается python3-websocket (1.2.3-1) …
Выбор ранее не выбранного пакета python3-docker.
Подготовка к распаковке …/03-python3-docker_5.0.3-1_all.deb …
Распаковывается python3-docker (5.0.3-1) …
Выбор ранее не выбранного пакета python3-dockerpty.
Подготовка к распаковке …/04-python3-dockerpty_0.4.1-2_all.deb …
Распаковывается python3-dockerpty (0.4.1-2) …
Выбор ранее не выбранного пакета python3-docopt.
Подготовка к распаковке …/05-python3-docopt_0.6.2-4_all.deb …
Распаковывается python3-docopt (0.6.2-4) …
Выбор ранее не выбранного пакета python3-dotenv.
Подготовка к распаковке …/06-python3-dotenv_0.19.2-1_all.deb …
Распаковывается python3-dotenv (0.19.2-1) …
Выбор ранее не выбранного пакета python3-attr.
Подготовка к распаковке …/07-python3-attr_21.2.0-1_all.deb …
Распаковывается python3-attr (21.2.0-1) …
Выбор ранее не выбранного пакета python3-setuptools.
Подготовка к распаковке …/08-python3-setuptools_59.6.0-1.2ubuntu0.22.04.2_all.deb …
Распаковывается python3-setuptools (59.6.0-1.2ubuntu0.22.04.2) …
Выбор ранее не выбранного пакета python3-pyrsistent:amd64.
Подготовка к распаковке …/09-python3-pyrsistent_0.18.1-1build1_amd64.deb …
Распаковывается python3-pyrsistent:amd64 (0.18.1-1build1) …
Выбор ранее не выбранного пакета python3-jsonschema.
Подготовка к распаковке …/10-python3-jsonschema_3.2.0-0ubuntu2_all.deb …
Распаковывается python3-jsonschema (3.2.0-0ubuntu2) …
Выбор ранее не выбранного пакета python3-texttable.
Подготовка к распаковке …/11-python3-texttable_1.6.4-1_all.deb …
Распаковывается python3-texttable (1.6.4-1) …
Выбор ранее не выбранного пакета docker-compose.
Подготовка к распаковке …/12-docker-compose_1.29.2-1_all.deb …
Распаковывается docker-compose (1.29.2-1) …
Настраивается пакет python3-dotenv (0.19.2-1) …
Настраивается пакет python3-attr (21.2.0-1) …
Настраивается пакет python3-texttable (1.6.4-1) …
Настраивается пакет python3-docopt (0.6.2-4) …
Настраивается пакет python3-pyrsistent:amd64 (0.18.1-1build1) …
Настраивается пакет python3-lib2to3 (3.10.8-1~22.04) …
Настраивается пакет python3-websocket (1.2.3-1) …
Настраивается пакет python3-dockerpty (0.4.1-2) …
Настраивается пакет python3-distutils (3.10.8-1~22.04) …
Настраивается пакет python3-setuptools (59.6.0-1.2ubuntu0.22.04.2) …
Настраивается пакет python3-docker (5.0.3-1) …
Настраивается пакет python3-jsonschema (3.2.0-0ubuntu2) …
Настраивается пакет docker-compose (1.29.2-1) …
Обрабатываются триггеры для man-db (2.10.2-1) …
u28@u28-VirtualBox:~$ docker compose version
Docker Compose version v2.33.1
u28@u28-VirtualBox:~$ docker
Usage:  docker [OPTIONS] COMMAND

A self-sufficient runtime for containers

Common Commands:
  run         Create and run a new container from an image
  exec        Execute a command in a running container
  ps          List containers
  build       Build an image from a Dockerfile
  pull        Download an image from a registry
  push        Upload an image to a registry
  images      List images
  login       Authenticate to a registry
  logout      Log out from a registry
  search      Search Docker Hub for images
  version     Show the Docker version information
  info        Display system-wide information

Management Commands:
  builder     Manage builds
  buildx*     Docker Buildx
  compose*    Docker Compose
  container   Manage containers
  context     Manage contexts
  image       Manage images
  manifest    Manage Docker image manifests and manifest lists
  network     Manage networks
  plugin      Manage plugins
  system      Manage Docker
  trust       Manage trust on Docker images
  volume      Manage volumes

Swarm Commands:
  swarm       Manage Swarm

Commands:
  attach      Attach local standard input, output, and error streams to a running container
  commit      Create a new image from a container's changes
  cp          Copy files/folders between a container and the local filesystem
  create      Create a new container
  diff        Inspect changes to files or directories on a container's filesystem
  events      Get real time events from the server
  export      Export a container's filesystem as a tar archive
  history     Show the history of an image
  import      Import the contents from a tarball to create a filesystem image
  inspect     Return low-level information on Docker objects
  kill        Kill one or more running containers
  load        Load an image from a tar archive or STDIN
  logs        Fetch the logs of a container
  pause       Pause all processes within one or more containers
  port        List port mappings or a specific mapping for the container
  rename      Rename a container
  restart     Restart one or more containers
  rm          Remove one or more containers
  rmi         Remove one or more images
  save        Save one or more images to a tar archive (streamed to STDOUT by default)
  start       Start one or more stopped containers
  stats       Display a live stream of container(s) resource usage statistics
  stop        Stop one or more running containers
  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE
  top         Display the running processes of a container
  unpause     Unpause all processes within one or more containers
  update      Update configuration of one or more containers
  wait        Block until one or more containers stop, then print their exit codes

Global Options:
      --config string      Location of client config files (default
                           "/home/u28/.docker")
  -c, --context string     Name of the context to use to connect to the
                           daemon (overrides DOCKER_HOST env var and
                           default context set with "docker context use")
  -D, --debug              Enable debug mode
  -H, --host list          Daemon socket to connect to
  -l, --log-level string   Set the logging level ("debug", "info",
                           "warn", "error", "fatal") (default "info")
      --tls                Use TLS; implied by --tlsverify
      --tlscacert string   Trust certs signed only by this CA (default
                           "/home/u28/.docker/ca.pem")
      --tlscert string     Path to TLS certificate file (default
                           "/home/u28/.docker/cert.pem")
      --tlskey string      Path to TLS key file (default
                           "/home/u28/.docker/key.pem")
      --tlsverify          Use TLS and verify the remote
  -v, --version            Print version information and quit

Run 'docker COMMAND --help' for more information on a command.

For more help on how to use Docker, head to https://docs.docker.com/go/guides/
u28@u28-VirtualBox:~$ docker run -d -p 8000:80 docker/getting-started
Unable to find image 'docker/getting-started:latest' locally
latest: Pulling from docker/getting-started
c158987b0551: Pull complete 
1e35f6679fab: Pull complete 
cb9626c74200: Pull complete 
b6334b6ace34: Pull complete 
f1d1c9928c82: Pull complete 
9b6f639ec6ea: Pull complete 
ee68d3549ec8: Pull complete 
33e0cbbb4673: Pull complete 
4f7e34c2de10: Pull complete 
Digest: sha256:d79336f4812b6547a53e735480dde67f8f8f7071b414fbd9297609ffb989abc1
Status: Downloaded newer image for docker/getting-started:latest
b99033c0afa74269e545c70110f0d25e44e7848b99f7d5aed1bc8d573ad1cd89
u28@u28-VirtualBox:~$ docker ps
CONTAINER ID   IMAGE                    COMMAND                  CREATED          STATUS          PORTS                                     NAMES
b99033c0afa7   docker/getting-started   "/docker-entrypoint.…"   23 seconds ago   Up 16 seconds   0.0.0.0:8000->80/tcp, [::]:8000->80/tcp   condescending_bouman
u28@u28-VirtualBox:~$ 
